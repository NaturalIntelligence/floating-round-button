/*
======================================================
=            RBT : Floating Round Button             =
======================================================
*/
/*
 * Copyright 2016 Amit Gupta
 * Released under the MIT license
 * https://github.com/NaturalIntelligence/floating-round-button/blob/master/LICENSE
 *
 * @author: Amit Gupta
 */
function rbt_display(a,b,c){if(!(a&&b&&b.main&&b.links))throw new Error("Floating RBT: Invalid element or data");main_btn=b.main,color_style=main_btn.color?"color:"+main_btn.color+";":"",bg_color_style=main_btn.bgcolor?"background-color:"+main_btn.bgcolor+";":"",main_btn_dom="<button data-link-href='"+(main_btn.url?main_btn.url:"")+"' data-link-target='"+(main_btn.target?main_btn.target:"")+"' class='rbt_main_btn' style='"+bg_color_style+"'><span style='"+color_style+"'>"+main_btn.icon+"</span></button>",sub_rbt="";for(var d=0;d<b.links.length;d++)color_style=b.links[d].color?"color:"+b.links[d].color+";":"",bg_color_style=b.links[d].bgcolor?"background-color:"+b.links[d].bgcolor+";":"",sub_rbt+="<div><button id='sub_rbt_btn_"+d+"' data-link-title='"+b.links[d].title+"' data-link-href='"+(b.links[d].url?b.links[d].url:"")+"' data-link-target='"+(b.links[d].target?b.links[d].target:"")+"' class='sub_rbt' style='"+bg_color_style+"'><span style='"+color_style+"'>"+b.links[d].icon+"</span></button></div>";sub_rbt="<div class='sub_rbt_wrapper'>"+sub_rbt+"</div>",a.append(sub_rbt).append(main_btn_dom),rbt_registerEvents(b),c&&c($(".sub_rbt_wrapper"))}function rbt_registerEvents(a){rbt_click($(".rbt_main_btn"),function(){a.main.onClick&&a.main.onClick($(this)),$(".sub_rbt_wrapper").toggleClass("show")});for(var b=0;b<a.links.length;b++)rbt_click($("#sub_rbt_btn_"+b),a.links[b].onClick);$(window).click(function(){$(".sub_rbt_wrapper").removeClass("show")})}function rbt_click(a,b){a.click(function(a){a.stopPropagation(),$(this).attr("data-link-href").length>0&&($(this).attr("data-link-target")?window.open($(this).attr("data-link-href"),$(this).attr("data-link-target")):window.location.href=$(this).attr("data-link-href")),b&&b($(this))})}